<template name="accountsAdmin">
  <div class="row accounts-search">
    <div class="col s7 input-field">
      <input type="text" class="form-control search-input-filter" value="{{searchFilter}}" id="searchFilter">
      <label for="searchFilter">Filter</label>
    </div>
    <div class="col s1">
      <button class="btn btn-floating waves-effect waves-light" type="button"><i class="material-icons">search</i></button>
    </div>
    <button class="btn waves-effect waves-light modal-trigger col s3 offset-s1" type="button" data-target="updateroles" id="updaterolesbtn"
            href="#updateroles">Manage Roles
    </button>

  </div>
  <table class='responsive-table highlight'>
    <thead>
    <tr>
      <th>&nbsp;</th>
      <th data-field="profile.name">Name</th>
      <th data-field="email">Email</th>
      <th data-field="username">Username</th>
      <th data-field="roles">Roles</th>
    </tr>
    </thead>
    <tbody>
    {{#each users}}
      <tr class="{{#if myself _id}}info{{/if}}">
        <td>
          {{#unless myself _id}}
            <span data-target="deleteaccount" data-toggle="modal" href="#deleteaccount"
                  class="clickable removebtn modal-trigger"><i class="material-icons">remove_circle_outline</i></span>
            <span data-toggle="modal" href="#updateaccount" class="clickable editbtn modal-trigger"><i
                class="material-icons">mode_edit</i></span>
            <span data-toggle="modal" href="#infoaccount" class="clickable infobtn modal-trigger"><i
                class="material-icons">info_outline</i></span>
          {{/unless}}
        </td>
        <td>
          {{#if profile.name}}
            {{profile.name}}
          {{else}}
            {{email}}
          {{/if}}
        </td>
        <td>{{email}}</td>
        <td>{{username}}</td>
        <td>{{roles}}</td>
      </tr>
    {{/each}}
    </tbody>
  </table>
  {{> updateRolesModal}}
  {{> deleteAccountModal}}
  {{> infoAccountModal}}
  {{> updateAccountModal}}
</template>