<template name="accountsAdmin">
  <div class="row accounts-search">
    <div class="col s6">
      <input type="text" class="form-control search-input-filter" value="{{searchFilter}}" id="searchFilter">
      <label for="searchFilter">{{t9n "Filter"}}</label>
    </div>
    <div class="col s2">
      <button class="btn btn-floating waves-effect waves-light" type="button"><i class="material-icons">search</i></button>
    </div>
    <div class="col s3 offset-s1">
    <button class="btn waves-effect waves-light modal-trigger full-width" type="button" data-target="updateroles" id="updaterolesbtn"
            href="#updateroles">Manage Roles
    </button>
    </div>
  </div>

  <table class='responsive-table highlight'>
    <thead>
    <tr>
      <th>&nbsp;</th>
      <th data-field="profile.name">{{t9n "Name"}}</th>
      <th data-field="email">{{t9n "email"}}</th>
      <th data-field="username">{{t9n "username"}}</th>
      <th data-field="roles">{{t9n "roles"}}</th>
    </tr>
    </thead>
    <tbody>
    {{#each users}}
      <tr class="{{#if myself _id}}info{{/if}}">
        <td>
          {{#unless myself _id}}
            <span data-target="deleteaccount" data-toggle="modal" href="#deleteaccount"
                  class="clickable removebtn modal-trigger"><i class="material-icons">remove_circle_outline</i></span>
            <span data-toggle="modal" href="#updateaccount" class="clickable editbtn modal-trigger"><i
                class="material-icons">mode_edit</i></span>
            <span data-toggle="modal" href="#infoaccount" class="clickable infobtn modal-trigger"><i
                class="material-icons">info_outline</i></span>
          {{/unless}}
        </td>
        <td>
          {{#if profile.name}}
            {{profile.name}}
          {{else}}
            {{email}}
          {{/if}}
        </td>
        <td>{{email}}</td>
        <td>{{username}}</td>
        <td>{{roles}}</td>
      </tr>
    {{/each}}
    </tbody>
  </table>
  {{> updateRolesModal}}
  {{> deleteAccountModal}}
  {{> infoAccountModal}}
  {{> updateAccountModal}}
</template>