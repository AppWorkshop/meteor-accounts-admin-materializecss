<template name="updateAccountModal">
  <div id="updateaccount" class="modal fade" tabindex="-1">
    <div class="container section">
      {{> updateAccountModalInner}}
    </div>
  </div>
</template>

<template name="updateAccountModalInner">
  {{#with userInScope}}
    <div class="modal-body">
      <h5>{{t9n "update"}} {{email}}</h5>

      <div class="card-panel">
        <div class="card-content">
          <div class="card-title">
            Profile
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input type="text" name="profile.firstname" required="" id="profile-firstname" value="{{profile.firstname}}">
              <label for="profile-firstname" class="active">
                First Name
              </label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input type="text" name="profile.surname" required="" id="profile-surname" value="{{profile.surname}}">
              <label for="profile-surname" class="active">
                Surname
              </label>
            </div>
          </div>

          <div class="card-panel autoform-object-field">
            <div class="card-content">
              <div class="card-title">
                Contact Details
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input type="text" name="profile.contactDetails.mobilePhone" id="profile-contactDetails-mobilePhone" value="{{profile.contactDetails.mobilePhone}}">
                  <label for="profile-contactDetails-mobilePhone" class="active">
                    Mobile
                  </label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input type="text" name="profile.contactDetails.emailAddress" id="profile-contactDetails-emailAddress" value="{{profile.contactDetails.emailAddress}}">
                  <label for="profile-contactDetails-emailAddress" class="active">
                    E-mail
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      {{#if notMe}}
        {{#if roles}}
          <ul class="collection">
            <li class="collection-header">{{t9n "AssignedRoles"}}:</li>
            {{#each roles}}
              <li class="collection-item">
                <span data-user-id="{{../_id}}" class="clickable remove-role waves-effect waves-light">
                  <i class="material-icons">remove_circle_outline</i>
                </span>
                <span class="right-align">{{t9n this}}</span>
              </li>
            {{/each}}
          </ul>
        {{else}}
          {{t9n "This account has no roles"}}.
        {{/if}}
        {{#if unsetRoles}}
          <ul class="collection">
            <li class="collection-header">{{t9n "AddRoleToUser"}}:</li>
            {{#each unsetRoles}}
              <li class="collection-item">
                <span data-user-id="{{../_id}}" class="clickable addbtn add-role waves-effect waves-light">
                  <i class="material-icons">add_circle_outline</i>
                </span>
                <span class="right-align">{{this}}</span>
              </li>
            {{/each}}
          </ul>
        {{else}}
          <em>{{t9n "All roles have already been set"}}</em>
        {{/if}}
      {{/if}}
      <div class="modal-footer">
        <button type="button" class="btn waves-effect waves-light modal-action modal-close">{{t9n "Done"}}</button>
      </div>
    </div>
  {{/with}}
</template>
